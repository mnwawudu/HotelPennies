/* ===== Base header ===== */
.custom-header {
  background-color: #006400;
  color: #fff;
  padding: 0.6rem 1rem;
  position: sticky;
  top: 0;
  z-index: 1100;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* On dashboard routes we don't want content scrolling "under" it,
   and we remove any extra offset with rules at the bottom. */
.custom-header.dashboard-header {
  position: relative; /* sits in normal flow; no overlay effect */
}

.top-header-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: .5rem;
}

.left-pack { display:flex; align-items:center; gap:10px; }
.logo { font-size:1.4rem; font-weight:bold; text-decoration:none; color:#fff; }

.header-buttons { display:flex; align-items:center; gap:.4rem; }

.list-service,
.auth {
  background:#fff;
  color:#006400;
  border:none;
  border-radius:4px;
  padding:5px 10px;
  font-size:.72rem;
  font-weight:500;
  text-decoration:none;
  white-space:nowrap;
}
.list-service:hover, .auth:hover { background:#f0f0f0; }

.profile-button{
  background:transparent; border:none; color:#fff;
  padding:6px 8px; border-radius:8px; cursor:pointer;
}
.profile-button:hover{ background:rgba(255,255,255,.12); }
.profile-icon{ font-size:1rem; line-height:1; }

/* Primary desktop nav (no bullets) */
.menu-left{
  display:flex; list-style:none; margin:.7rem 0 0 0; padding:0;
  gap:1.5rem; flex-wrap:wrap;
}
.menu-left li{ margin:0; padding:0; }
.menu-left li a{ color:#fff; text-decoration:none; font-weight:500; }

/* Avatar dropdown */
.dropdown-menu{
  position:absolute; right:1rem; top:52px;
  background:#222; color:#fff; border-radius:6px;
  box-shadow:0 2px 8px rgba(0,0,0,.25);
  display:flex; flex-direction:column; min-width:200px; z-index:1200; overflow:auto;
  max-height:70vh; /* if links grow, dropdown will scroll */
}
.dropdown-menu a, .dropdown-menu button{
  padding:10px 14px; text-align:left; border:none; background:none;
  cursor:pointer; width:100%; color:#fff;
}
.dropdown-menu a:hover, .dropdown-menu button:hover{ background:#333; }

/* ===== Mobile ===== */
.menu-toggle{
  font-size:1.4rem; color:#fff; background:#0b5a2a;
  border:1px solid rgba(255,255,255,.25);
  border-radius:10px; padding:6px 10px; cursor:pointer;
}

/* Backdrop blocks page scroll */
.mobile-menu-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.45); z-index:1400;
  touch-action:none;
}

/* Full-screen sheet that SCROLLS */
.mobile-menu-sheet{
  position:fixed; inset:0;
  background:#0b5a2a; color:#fff; z-index:1401;
  display:flex; flex-direction:column; padding:16px;
  height:100vh;                 /* full viewport */
  overflow-y:auto;              /* <-- scrolling enabled */
  -webkit-overflow-scrolling:touch;
}

.sheet-header{
  display:flex; justify-content:space-between; align-items:center;
  font-weight:600; font-size:1.05rem; margin-bottom:12px;
}
.sheet-close{
  background:rgba(255,255,255,.15); color:#fff; border:none;
  border-radius:8px; padding:6px 10px; font-size:22px; line-height:1; cursor:pointer;
}

.sheet-list{
  list-style:none; margin:0; padding:0; display:grid; grid-template-columns:1fr; gap:8px;
}
.sheet-list li{ margin:0; padding:0; }
.sheet-list a{
  display:block; padding:12px 10px; border-radius:8px; text-decoration:none; color:#fff;
  background:rgba(255,255,255,.08);
}

.sheet-section{ display:flex; flex-direction:column; gap:8px; }
.sheet-section a{
  display:block; padding:12px 10px; border-radius:8px; text-decoration:none; color:#fff;
  background:rgba(255,255,255,.08);
}
.sheet-logout{
  background:#dc3545; color:#fff; border:none; border-radius:8px; padding:12px 10px; text-align:left; cursor:pointer;
}
.sheet-cta{ background:#fff !important; color:#0b5a2a !important; }
.sheet-divider{ height:1px; background:rgba(255,255,255,.25); margin:12px 0; }

@media (max-width:768px){
  /* Keep top row clean on mobile */
  .dropdown-menu{ display:none !important; }
  .list-service, .auth{ display:none; }
}

/* ===== Dashboard spacing fix (desktop) =====
   When the header has the 'dashboard-header' class, we don't need
   extra top padding in the app content. This removes the visual
   blank strip and prevents content from scrolling "under" the header.
*/
@media (min-width: 769px) {
  /* If your layout renders as: <Header /><div class="user-dashboard-container">... */
  .dashboard-header + .user-dashboard-container { padding-top: 0 !important; }

  /* Safety net in case another rule was adding top padding */
  .user-dashboard-container { padding-top: 0 !important; }
}
/* Only on dashboard routes */
body.hp-dashboard-route {
  scroll-behavior: auto !important;
  overscroll-behavior-y: contain; /* stop bounce snaps on some browsers */
}

/* Extra belt-and-suspenders */
html { overflow-anchor: none; }
/* keep a consistent header height variable */
.custom-header { --hp-header-h: 56px; }
@media (min-width: 768px) {
  .custom-header { --hp-header-h: 64px; }
}

/* On vendor dashboard (mobile), hide the SITE header burger + avatar menu
   and force-close the header’s full-screen mobile sheet/backdrop. */
@media (max-width: 991px) {
  @supports selector(body:has(.vendor-dashboard)) {
    /* hide the green-header burger + avatar ONLY on vendor pages */
    body.hp-dashboard-route:has(.vendor-dashboard) .custom-header .menu-toggle,
    body.hp-dashboard-route:has(.vendor-dashboard) .custom-header .profile-menu {
      display: none !important;
    }

    /* belt & suspenders: make sure the public mobile sheet cannot appear */
    body.hp-dashboard-route:has(.vendor-dashboard) .mobile-menu-sheet,
    body.hp-dashboard-route:has(.vendor-dashboard) .mobile-menu-backdrop {
      display: none !important;
    }
  }
}
/* ===== Place “Add Shortlet” modal below the sticky header ===== */
body.hp-dashboard-route { --hp-header-h: 64px; }
@media (max-width: 767px) { body.hp-dashboard-route { --hp-header-h: 56px; } }

/* Backdrop starts under the header and covers the rest */
body.hp-dashboard-route .add-shortlet-overlay {
  position: fixed !important;
  top: var(--hp-header-h) !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  z-index: 1200 !important; /* higher than header */
}

/* Modal panel pinned below header, horizontally centered */
body.hp-dashboard-route .add-shortlet-modal {
  position: fixed !important;
  top: calc(var(--hp-header-h) + 20px) !important;  /* breathing room under header */
  left: 50% !important;
  transform: translateX(-50%) !important;           /* cancel vertical -50% centering */
  width: min(900px, calc(100vw - 24px)) !important;
  max-height: calc(100vh - var(--hp-header-h) - 40px) !important;
  overflow: auto !important;
  z-index: 1201 !important;                          /* above backdrop */
  /* keep your existing background/color/shadow from your theme */
}

/* If the form body needs its own scroll area */
body.hp-dashboard-route .add-shortlet-modal .modal-body,
body.hp-dashboard-route .add-shortlet-modal .form-body {
  max-height: calc(100vh - var(--hp-header-h) - 120px) !important;
  overflow: auto !important;
}

/* In case a parent container was clipping children */
body.hp-dashboard-route .vendor-dashboard,
body.hp-dashboard-route .dashboard-wrapper {
  overflow: visible !important;
}
